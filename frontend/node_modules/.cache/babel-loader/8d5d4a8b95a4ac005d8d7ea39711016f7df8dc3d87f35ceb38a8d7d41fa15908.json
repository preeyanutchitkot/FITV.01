{"ast":null,"code":"var _jsxFileName = \"C:\\\\Fitaddict\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\\\\Fit\\\\frontend\\\\src\\\\contexts\\\\LoadingProvider.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoadingCtx = /*#__PURE__*/createContext(null);\nexport function LoadingProvider({\n  children\n}) {\n  _s();\n  const [state, setState] = useState({\n    show: false,\n    text: \"กำลังโหลดข้อมูล...\"\n  });\n  const showLoading = (text = \"กำลังโหลดข้อมูล...\") => setState({\n    show: true,\n    text\n  });\n  const hideLoading = () => setState(s => ({\n    ...s,\n    show: false\n  }));\n\n  // ห่อ async ให้อัตโนมัติ: withLoading(() => fetch(...))\n  const withLoading = async (fnOrPromise, text) => {\n    showLoading(text);\n    try {\n      if (typeof fnOrPromise === \"function\") return await fnOrPromise();\n      return await fnOrPromise; // ถ้าส่งเป็น promise มาเลย\n    } finally {\n      hideLoading();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LoadingCtx.Provider, {\n    value: {\n      ...state,\n      showLoading,\n      hideLoading,\n      withLoading\n    },\n    children: [children, state.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: state.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(LoadingProvider, \"Vwy7DPpoq7tRrHsoF54yzK7nCbQ=\");\n_c = LoadingProvider;\nexport const useLoading = () => {\n  _s2();\n  const ctx = useContext(LoadingCtx);\n  if (!ctx) throw new Error(\"useLoading must be used within <LoadingProvider>\");\n  return ctx;\n};\n_s2(useLoading, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nvar _c;\n$RefreshReg$(_c, \"LoadingProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","LoadingCtx","LoadingProvider","children","_s","state","setState","show","text","showLoading","hideLoading","s","withLoading","fnOrPromise","Provider","value","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","useLoading","_s2","ctx","Error","$RefreshReg$"],"sources":["C:/Fitaddictล่าสุด/Fit/frontend/src/contexts/LoadingProvider.js"],"sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\n\r\nconst LoadingCtx = createContext(null);\r\n\r\nexport function LoadingProvider({ children }) {\r\n  const [state, setState] = useState({ show: false, text: \"กำลังโหลดข้อมูล...\" });\r\n\r\n  const showLoading = (text = \"กำลังโหลดข้อมูล...\") =>\r\n    setState({ show: true, text });\r\n  const hideLoading = () => setState(s => ({ ...s, show: false }));\r\n\r\n  // ห่อ async ให้อัตโนมัติ: withLoading(() => fetch(...))\r\n  const withLoading = async (fnOrPromise, text) => {\r\n    showLoading(text);\r\n    try {\r\n      if (typeof fnOrPromise === \"function\") return await fnOrPromise();\r\n      return await fnOrPromise; // ถ้าส่งเป็น promise มาเลย\r\n    } finally {\r\n      hideLoading();\r\n    } \r\n  };\r\n\r\n  return (\r\n    <LoadingCtx.Provider value={{ ...state, showLoading, hideLoading, withLoading }}>\r\n      {children}\r\n\r\n      {/* Global overlay (แสดงครั้งเดียวทั้งแอป) */}\r\n      {state.show && (\r\n        <div className=\"dashboard-loading\">\r\n          <div className=\"loading-spinner\" />\r\n          <p>{state.text}</p>\r\n        </div>\r\n      )}\r\n    </LoadingCtx.Provider>\r\n  );\r\n}\r\n\r\nexport const useLoading = () => {\r\n  const ctx = useContext(LoadingCtx);\r\n  if (!ctx) throw new Error(\"useLoading must be used within <LoadingProvider>\");\r\n  return ctx;\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,MAAMC,UAAU,gBAAGL,aAAa,CAAC,IAAI,CAAC;AAEtC,OAAO,SAASM,eAAeA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC5C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC;IAAES,IAAI,EAAE,KAAK;IAAEC,IAAI,EAAE;EAAqB,CAAC,CAAC;EAE/E,MAAMC,WAAW,GAAGA,CAACD,IAAI,GAAG,oBAAoB,KAC9CF,QAAQ,CAAC;IAAEC,IAAI,EAAE,IAAI;IAAEC;EAAK,CAAC,CAAC;EAChC,MAAME,WAAW,GAAGA,CAAA,KAAMJ,QAAQ,CAACK,CAAC,KAAK;IAAE,GAAGA,CAAC;IAAEJ,IAAI,EAAE;EAAM,CAAC,CAAC,CAAC;;EAEhE;EACA,MAAMK,WAAW,GAAG,MAAAA,CAAOC,WAAW,EAAEL,IAAI,KAAK;IAC/CC,WAAW,CAACD,IAAI,CAAC;IACjB,IAAI;MACF,IAAI,OAAOK,WAAW,KAAK,UAAU,EAAE,OAAO,MAAMA,WAAW,CAAC,CAAC;MACjE,OAAO,MAAMA,WAAW,CAAC,CAAC;IAC5B,CAAC,SAAS;MACRH,WAAW,CAAC,CAAC;IACf;EACF,CAAC;EAED,oBACEV,OAAA,CAACC,UAAU,CAACa,QAAQ;IAACC,KAAK,EAAE;MAAE,GAAGV,KAAK;MAAEI,WAAW;MAAEC,WAAW;MAAEE;IAAY,CAAE;IAAAT,QAAA,GAC7EA,QAAQ,EAGRE,KAAK,CAACE,IAAI,iBACTP,OAAA;MAAKgB,SAAS,EAAC,mBAAmB;MAAAb,QAAA,gBAChCH,OAAA;QAAKgB,SAAS,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnCpB,OAAA;QAAAG,QAAA,EAAIE,KAAK,CAACG;MAAI;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChB,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACkB,CAAC;AAE1B;AAAChB,EAAA,CA/BeF,eAAe;AAAAmB,EAAA,GAAfnB,eAAe;AAiC/B,OAAO,MAAMoB,UAAU,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC9B,MAAMC,GAAG,GAAG3B,UAAU,CAACI,UAAU,CAAC;EAClC,IAAI,CAACuB,GAAG,EAAE,MAAM,IAAIC,KAAK,CAAC,kDAAkD,CAAC;EAC7E,OAAOD,GAAG;AACZ,CAAC;AAACD,GAAA,CAJWD,UAAU;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}