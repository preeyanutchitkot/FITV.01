{"ast":null,"code":"var _jsxFileName = \"C:\\\\Fit\\\\frontend\\\\src\\\\components\\\\MediaPipeKeypoints.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MediaPipeKeypoints = ({\n  videoRef,\n  isPlaying,\n  onKeypointsDetected\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [pose, setPose] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // MediaPipe Pose connections (33 landmarks)\n  const POSE_CONNECTIONS = [\n  // Face\n  [0, 1], [1, 2], [2, 3], [3, 7], [0, 4], [4, 5], [5, 6], [6, 8],\n  // Arms\n  [9, 10], [11, 12], [11, 13], [13, 15], [15, 17], [15, 19], [15, 21], [17, 19], [12, 14], [14, 16], [16, 18], [16, 20], [16, 22], [18, 20],\n  // Body\n  [11, 23], [12, 24], [23, 24],\n  // Legs\n  [23, 25], [24, 26], [25, 27], [26, 28], [27, 29], [28, 30], [29, 31], [30, 32], [27, 31], [28, 32]];\n  useEffect(() => {\n    const loadMediaPipe = () => {\n      console.log('üîÑ Starting MediaPipe loading...');\n\n      // ‡∏™‡∏£‡πâ‡∏≤‡∏á script elements\n      const scripts = ['https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js', 'https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js', 'https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js', 'https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js'];\n      let loadedCount = 0;\n      const onScriptLoad = () => {\n        loadedCount++;\n        console.log(`üì¶ Loaded ${loadedCount}/${scripts.length} scripts`);\n        if (loadedCount === scripts.length) {\n          initializePose();\n        }\n      };\n      const onScriptError = error => {\n        console.error('‚ùå Script loading error:', error);\n      };\n      scripts.forEach(src => {\n        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á\n        if (document.querySelector(`script[src=\"${src}\"]`)) {\n          onScriptLoad();\n          return;\n        }\n        const script = document.createElement('script');\n        script.src = src;\n        script.onload = onScriptLoad;\n        script.onerror = onScriptError;\n        document.head.appendChild(script);\n      });\n    };\n    const initializePose = async () => {\n      try {\n        console.log('üéØ Initializing MediaPipe Pose...');\n\n        // ‡∏£‡∏≠‡πÉ‡∏´‡πâ MediaPipe ‡∏û‡∏£‡πâ‡∏≠‡∏°\n        let attempts = 0;\n        while (!window.Pose && attempts < 50) {\n          console.log(`‚è≥ Waiting for MediaPipe... ${attempts + 1}/50`);\n          await new Promise(resolve => setTimeout(resolve, 100));\n          attempts++;\n        }\n        if (!window.Pose) {\n          throw new Error('MediaPipe Pose not available');\n        }\n        const poseInstance = new window.Pose({\n          locateFile: file => {\n            return `https://cdn.jsdelivr.net/npm/@mediapipe/pose/${file}`;\n          }\n        });\n        console.log('‚öôÔ∏è Setting pose options...');\n        poseInstance.setOptions({\n          modelComplexity: 1,\n          smoothLandmarks: true,\n          enableSegmentation: false,\n          smoothSegmentation: true,\n          minDetectionConfidence: 0.5,\n          minTrackingConfidence: 0.5\n        });\n        console.log('üé¨ Setting onResults callback...');\n        poseInstance.onResults(onResults);\n        setPose(poseInstance);\n        setIsLoaded(true);\n        console.log('‚úÖ MediaPipe Pose ready!');\n      } catch (error) {\n        console.error('‚ùå Failed to initialize MediaPipe:', error);\n      }\n    };\n    loadMediaPipe();\n  }, []);\n  const onResults = results => {\n    console.log('üì∏ Got MediaPipe results');\n    if (!results.poseLandmarks) {\n      console.log('‚ö†Ô∏è No pose detected');\n      return;\n    }\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    if (!canvas || !video) {\n      console.log('‚ùå Missing canvas or video');\n      return;\n    }\n    drawPose(results.poseLandmarks, canvas, video);\n    if (onKeypointsDetected) {\n      onKeypointsDetected(results.poseLandmarks);\n    }\n  };\n  const drawPose = (landmarks, canvas, video) => {\n    const ctx = canvas.getContext('2d');\n    const rect = video.getBoundingClientRect();\n\n    // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î canvas\n    canvas.width = rect.width;\n    canvas.height = rect.height;\n\n    // ‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    const scaleX = rect.width;\n    const scaleY = rect.height;\n\n    // ‡∏ß‡∏≤‡∏î skeleton connections\n    POSE_CONNECTIONS.forEach(([i, j]) => {\n      const kp1 = landmarks[i];\n      const kp2 = landmarks[j];\n      if (kp1 && kp2 && kp1.visibility > 0.5 && kp2.visibility > 0.5) {\n        ctx.beginPath();\n\n        // Mirror x-coordinates ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö selfie camera\n        const x1 = scaleX - kp1.x * scaleX;\n        const y1 = kp1.y * scaleY;\n        const x2 = scaleX - kp2.x * scaleX;\n        const y2 = kp2.y * scaleY;\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.strokeStyle = '#00FF00';\n        ctx.lineWidth = 2;\n        ctx.stroke();\n      }\n    });\n\n    // ‡∏ß‡∏≤‡∏î keypoints\n    landmarks.forEach((landmark, index) => {\n      if (landmark && landmark.visibility > 0.5) {\n        // Mirror x-coordinates ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö selfie camera\n        const x = scaleX - landmark.x * scaleX;\n        const y = landmark.y * scaleY;\n        ctx.beginPath();\n        ctx.arc(x, y, 4, 0, 2 * Math.PI);\n\n        // ‡∏™‡∏µ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏Ç‡∏≠‡∏á‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢\n        if (index <= 10) {\n          ctx.fillStyle = '#FF6B6B'; // Face and upper body\n        } else if (index <= 16) {\n          ctx.fillStyle = '#4ECDC4'; // Arms\n        } else if (index <= 22) {\n          ctx.fillStyle = '#45B7D1'; // Hands\n        } else {\n          ctx.fillStyle = '#96CEB4'; // Legs and body\n        }\n        ctx.fill();\n\n        // ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß\n        ctx.beginPath();\n        ctx.arc(x, y, 4, 0, 2 * Math.PI);\n        ctx.strokeStyle = '#FFFFFF';\n        ctx.lineWidth = 1;\n        ctx.stroke();\n      }\n    });\n    console.log('üé® Drew pose with', landmarks.length, 'landmarks');\n  };\n  useEffect(() => {\n    if (!isLoaded || !pose || !(videoRef !== null && videoRef !== void 0 && videoRef.current) || !isPlaying) {\n      console.log('Not ready:', {\n        isLoaded,\n        hasPose: !!pose,\n        hasVideo: !!(videoRef !== null && videoRef !== void 0 && videoRef.current),\n        isPlaying\n      });\n      return;\n    }\n    const video = videoRef.current;\n    let processing = false;\n    const processFrame = async () => {\n      if (processing || video.paused || video.ended) return;\n      processing = true;\n      try {\n        if (video.readyState >= 2) {\n          console.log('üì§ Sending frame to MediaPipe...');\n          await pose.send({\n            image: video\n          });\n        }\n      } catch (error) {\n        console.error('Process frame error:', error);\n      }\n      processing = false;\n      if (isPlaying) {\n        setTimeout(processFrame, 100); // ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ó‡∏∏‡∏Å 100ms\n      }\n    };\n    console.log('üöÄ Starting pose detection...');\n    processFrame();\n  }, [isLoaded, pose, isPlaying]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        pointerEvents: 'none',\n        zIndex: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), !isLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        color: 'white',\n        fontSize: '14px',\n        background: 'rgba(0,0,0,0.7)',\n        padding: '10px',\n        borderRadius: '5px',\n        zIndex: 20\n      },\n      children: \"Loading MediaPipe...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(MediaPipeKeypoints, \"BXrv874RnDz8yBxsIrgdznwTy9U=\");\n_c = MediaPipeKeypoints;\nexport default MediaPipeKeypoints;\nvar _c;\n$RefreshReg$(_c, \"MediaPipeKeypoints\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","MediaPipeKeypoints","videoRef","isPlaying","onKeypointsDetected","_s","canvasRef","pose","setPose","isLoaded","setIsLoaded","POSE_CONNECTIONS","loadMediaPipe","console","log","scripts","loadedCount","onScriptLoad","length","initializePose","onScriptError","error","forEach","src","document","querySelector","script","createElement","onload","onerror","head","appendChild","attempts","window","Pose","Promise","resolve","setTimeout","Error","poseInstance","locateFile","file","setOptions","modelComplexity","smoothLandmarks","enableSegmentation","smoothSegmentation","minDetectionConfidence","minTrackingConfidence","onResults","results","poseLandmarks","canvas","current","video","drawPose","landmarks","ctx","getContext","rect","getBoundingClientRect","width","height","clearRect","scaleX","scaleY","i","j","kp1","kp2","visibility","beginPath","x1","x","y1","y","x2","y2","moveTo","lineTo","strokeStyle","lineWidth","stroke","landmark","index","arc","Math","PI","fillStyle","fill","hasPose","hasVideo","processing","processFrame","paused","ended","readyState","send","image","children","ref","style","position","top","left","pointerEvents","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","transform","color","fontSize","background","padding","borderRadius","_c","$RefreshReg$"],"sources":["C:/Fit/frontend/src/components/MediaPipeKeypoints.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nconst MediaPipeKeypoints = ({ videoRef, isPlaying, onKeypointsDetected }) => {\r\n  const canvasRef = useRef(null);\r\n  const [pose, setPose] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  // MediaPipe Pose connections (33 landmarks)\r\n  const POSE_CONNECTIONS = [\r\n    // Face\r\n    [0, 1], [1, 2], [2, 3], [3, 7], [0, 4], [4, 5], [5, 6], [6, 8],\r\n    // Arms\r\n    [9, 10], [11, 12], [11, 13], [13, 15], [15, 17], [15, 19], [15, 21], [17, 19],\r\n    [12, 14], [14, 16], [16, 18], [16, 20], [16, 22], [18, 20],\r\n    // Body\r\n    [11, 23], [12, 24], [23, 24],\r\n    // Legs\r\n    [23, 25], [24, 26], [25, 27], [26, 28], [27, 29], [28, 30], [29, 31], [30, 32], [27, 31], [28, 32]\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const loadMediaPipe = () => {\r\n      console.log('üîÑ Starting MediaPipe loading...');\r\n      \r\n      // ‡∏™‡∏£‡πâ‡∏≤‡∏á script elements\r\n      const scripts = [\r\n        'https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js',\r\n        'https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js',\r\n        'https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js',\r\n        'https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js'\r\n      ];\r\n\r\n      let loadedCount = 0;\r\n\r\n      const onScriptLoad = () => {\r\n        loadedCount++;\r\n        console.log(`üì¶ Loaded ${loadedCount}/${scripts.length} scripts`);\r\n        \r\n        if (loadedCount === scripts.length) {\r\n          initializePose();\r\n        }\r\n      };\r\n\r\n      const onScriptError = (error) => {\r\n        console.error('‚ùå Script loading error:', error);\r\n      };\r\n\r\n      scripts.forEach(src => {\r\n        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á\r\n        if (document.querySelector(`script[src=\"${src}\"]`)) {\r\n          onScriptLoad();\r\n          return;\r\n        }\r\n\r\n        const script = document.createElement('script');\r\n        script.src = src;\r\n        script.onload = onScriptLoad;\r\n        script.onerror = onScriptError;\r\n        document.head.appendChild(script);\r\n      });\r\n    };\r\n\r\n    const initializePose = async () => {\r\n      try {\r\n        console.log('üéØ Initializing MediaPipe Pose...');\r\n        \r\n        // ‡∏£‡∏≠‡πÉ‡∏´‡πâ MediaPipe ‡∏û‡∏£‡πâ‡∏≠‡∏°\r\n        let attempts = 0;\r\n        while (!window.Pose && attempts < 50) {\r\n          console.log(`‚è≥ Waiting for MediaPipe... ${attempts + 1}/50`);\r\n          await new Promise(resolve => setTimeout(resolve, 100));\r\n          attempts++;\r\n        }\r\n\r\n        if (!window.Pose) {\r\n          throw new Error('MediaPipe Pose not available');\r\n        }\r\n\r\n        const poseInstance = new window.Pose({\r\n          locateFile: (file) => {\r\n            return `https://cdn.jsdelivr.net/npm/@mediapipe/pose/${file}`;\r\n          }\r\n        });\r\n\r\n        console.log('‚öôÔ∏è Setting pose options...');\r\n        poseInstance.setOptions({\r\n          modelComplexity: 1,\r\n          smoothLandmarks: true,\r\n          enableSegmentation: false,\r\n          smoothSegmentation: true,\r\n          minDetectionConfidence: 0.5,\r\n          minTrackingConfidence: 0.5\r\n        });\r\n\r\n        console.log('üé¨ Setting onResults callback...');\r\n        poseInstance.onResults(onResults);\r\n\r\n        setPose(poseInstance);\r\n        setIsLoaded(true);\r\n        console.log('‚úÖ MediaPipe Pose ready!');\r\n\r\n      } catch (error) {\r\n        console.error('‚ùå Failed to initialize MediaPipe:', error);\r\n      }\r\n    };\r\n\r\n    loadMediaPipe();\r\n  }, []);\r\n\r\n  const onResults = (results) => {\r\n    console.log('üì∏ Got MediaPipe results');\r\n    \r\n    if (!results.poseLandmarks) {\r\n      console.log('‚ö†Ô∏è No pose detected');\r\n      return;\r\n    }\r\n\r\n    const canvas = canvasRef.current;\r\n    const video = videoRef.current;\r\n    \r\n    if (!canvas || !video) {\r\n      console.log('‚ùå Missing canvas or video');\r\n      return;\r\n    }\r\n\r\n    drawPose(results.poseLandmarks, canvas, video);\r\n    \r\n    if (onKeypointsDetected) {\r\n      onKeypointsDetected(results.poseLandmarks);\r\n    }\r\n  };\r\n\r\n  const drawPose = (landmarks, canvas, video) => {\r\n    const ctx = canvas.getContext('2d');\r\n    const rect = video.getBoundingClientRect();\r\n\r\n    // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î canvas\r\n    canvas.width = rect.width;\r\n    canvas.height = rect.height;\r\n    \r\n    // ‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    const scaleX = rect.width;\r\n    const scaleY = rect.height;\r\n\r\n    // ‡∏ß‡∏≤‡∏î skeleton connections\r\n    POSE_CONNECTIONS.forEach(([i, j]) => {\r\n      const kp1 = landmarks[i];\r\n      const kp2 = landmarks[j];\r\n      \r\n      if (kp1 && kp2 && kp1.visibility > 0.5 && kp2.visibility > 0.5) {\r\n        ctx.beginPath();\r\n        \r\n        // Mirror x-coordinates ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö selfie camera\r\n        const x1 = scaleX - (kp1.x * scaleX);\r\n        const y1 = kp1.y * scaleY;\r\n        const x2 = scaleX - (kp2.x * scaleX);\r\n        const y2 = kp2.y * scaleY;\r\n        \r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n        ctx.strokeStyle = '#00FF00';\r\n        ctx.lineWidth = 2;\r\n        ctx.stroke();\r\n      }\r\n    });\r\n\r\n    // ‡∏ß‡∏≤‡∏î keypoints\r\n    landmarks.forEach((landmark, index) => {\r\n      if (landmark && landmark.visibility > 0.5) {\r\n        // Mirror x-coordinates ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö selfie camera\r\n        const x = scaleX - (landmark.x * scaleX);\r\n        const y = landmark.y * scaleY;\r\n        \r\n        ctx.beginPath();\r\n        ctx.arc(x, y, 4, 0, 2 * Math.PI);\r\n        \r\n        // ‡∏™‡∏µ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏Ç‡∏≠‡∏á‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢\r\n        if (index <= 10) {\r\n          ctx.fillStyle = '#FF6B6B'; // Face and upper body\r\n        } else if (index <= 16) {\r\n          ctx.fillStyle = '#4ECDC4'; // Arms\r\n        } else if (index <= 22) {\r\n          ctx.fillStyle = '#45B7D1'; // Hands\r\n        } else {\r\n          ctx.fillStyle = '#96CEB4'; // Legs and body\r\n        }\r\n        \r\n        ctx.fill();\r\n        \r\n        // ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, 4, 0, 2 * Math.PI);\r\n        ctx.strokeStyle = '#FFFFFF';\r\n        ctx.lineWidth = 1;\r\n        ctx.stroke();\r\n      }\r\n    });\r\n\r\n    console.log('üé® Drew pose with', landmarks.length, 'landmarks');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isLoaded || !pose || !videoRef?.current || !isPlaying) {\r\n      console.log('Not ready:', { isLoaded, hasPose: !!pose, hasVideo: !!videoRef?.current, isPlaying });\r\n      return;\r\n    }\r\n\r\n    const video = videoRef.current;\r\n    let processing = false;\r\n\r\n    const processFrame = async () => {\r\n      if (processing || video.paused || video.ended) return;\r\n      \r\n      processing = true;\r\n      \r\n      try {\r\n        if (video.readyState >= 2) {\r\n          console.log('üì§ Sending frame to MediaPipe...');\r\n          await pose.send({ image: video });\r\n        }\r\n      } catch (error) {\r\n        console.error('Process frame error:', error);\r\n      }\r\n      \r\n      processing = false;\r\n      \r\n      if (isPlaying) {\r\n        setTimeout(processFrame, 100); // ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ó‡∏∏‡∏Å 100ms\r\n      }\r\n    };\r\n\r\n    console.log('üöÄ Starting pose detection...');\r\n    processFrame();\r\n\r\n  }, [isLoaded, pose, isPlaying]);\r\n\r\n  return (\r\n    <>\r\n      <canvas\r\n        ref={canvasRef}\r\n        style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          pointerEvents: 'none',\r\n          zIndex: 10\r\n        }}\r\n      />\r\n      {!isLoaded && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n          color: 'white',\r\n          fontSize: '14px',\r\n          background: 'rgba(0,0,0,0.7)',\r\n          padding: '10px',\r\n          borderRadius: '5px',\r\n          zIndex: 20\r\n        }}>\r\n          Loading MediaPipe...\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MediaPipeKeypoints;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}