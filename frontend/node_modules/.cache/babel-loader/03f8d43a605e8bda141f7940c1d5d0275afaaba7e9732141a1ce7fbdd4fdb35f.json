{"ast":null,"code":"var _jsxFileName = \"E:\\\\BackupFit\\\\frontend\\\\src\\\\components\\\\analytics\\\\WeeklyFrequencyChart.js\",\n  _s = $RefreshSig$();\n// src/components/analytics/WeeklyFrequencyChart.js\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { CalendarDays } from \"lucide-react\";\nimport * as d3 from \"d3\";\n\n/*\r\n  Props:\r\n    data = [{ weekLabel: 'Week 1', value: 5 }, ...]\r\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WeeklyFrequencyChart({\n  data = []\n}) {\n  _s();\n  const wrapRef = useRef(null);\n  const [w, setW] = useState(0);\n\n  // --- Observe width for responsiveness ---\n  useEffect(() => {\n    if (!wrapRef.current) return;\n    const el = wrapRef.current;\n\n    // ตั้งค่าเริ่มต้น\n    const first = el.clientWidth || 360;\n    setW(first);\n    const ro = new ResizeObserver(entries => {\n      const nw = Math.round(entries[0].contentRect.width);\n      setW(prev => prev !== nw ? nw : prev);\n    });\n    ro.observe(el);\n    return () => ro.disconnect();\n  }, []);\n\n  // --- Render chart whenever width or data changes ---\n  useEffect(() => {\n    if (!wrapRef.current || !w) return;\n    const wrap = wrapRef.current;\n    wrap.innerHTML = \"\";\n\n    // ---- Card skeleton (title + canvas holder) ----\n    const card = d3.select(wrap).append(\"div\").style(\"background\", \"#fff\").style(\"border-radius\", \"20px\").style(\"padding\", \"16px\").style(\"box-shadow\", \"0 8px 24px rgba(2,6,23,0.06)\");\n    const title = card.append(\"div\").style(\"display\", \"flex\").style(\"align-items\", \"center\").style(\"gap\", \"8px\").style(\"font-weight\", 700).style(\"color\", \"#0f172a\").style(\"margin-bottom\", \"35px\"); // ระยะห่างหัวข้อ ↔ กราฟ\n\n    // calendar icon\n    // Icon container for lucide icon (rendered after effect via React portal-like approach not needed; directly append DOM)\n    const iconHolder = title.append(\"span\").style(\"display\", \"flex\").style(\"align-items\", \"center\");\n    // We'll mount a placeholder element and let React render icon after by id\n    const iconId = `wf-icon-${Math.random().toString(36).slice(2)}`;\n    iconHolder.append(\"span\").attr(\"id\", iconId);\n    title.append(\"span\").text(\"Weekly Frequency\");\n    // After DOM built, inject icon via standard React render\n    setTimeout(() => {\n      const el = document.getElementById(iconId);\n      if (el && !el.firstChild) {\n        try {\n          /* dynamic create */\n          const root = document.createElement(\"span\");\n          el.appendChild(root);\n          // Plain inline SVG since small: fallback if lucide not loaded\n          root.innerHTML = `<svg width=\"16\" height=\"16\" stroke=\"#0f172a\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" viewBox=\"0 0 24 24\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"4\" rx=\"2\" ry=\"2\"></rect><line x1=\"16\" x2=\"16\" y1=\"2\" y2=\"6\"></line><line x1=\"8\" x2=\"8\" y1=\"2\" y2=\"6\"></line><line x1=\"3\" x2=\"21\" y1=\"10\" y2=\"10\"></line></svg>`;\n        } catch {}\n      }\n    }, 0);\n\n    // holder จะกว้าง 100% ของ wrapRef\n    const holder = card.append(\"div\").style(\"position\", \"relative\").style(\"width\", \"100%\");\n\n    // Responsive width: เผื่อ padding 16px ซ้าย/ขวา ของ card\n    const W = Math.max(320, w - 32);\n    const H = 170;\n    const m = {\n      top: 10,\n      right: 16,\n      bottom: 28,\n      left: 28\n    };\n    const svg = holder.append(\"svg\").attr(\"width\", W).attr(\"height\", H);\n\n    // ---- Scales ----\n    const x = d3.scaleBand().domain(data.map(d => d.weekLabel)).range([m.left, W - m.right]).padding(0.3);\n    const y = d3.scaleLinear().domain([0, d3.max(data, d => d.value) || 1]).nice().range([H - m.bottom, m.top]);\n\n    // ---- Grid (light) ----\n    svg.append(\"g\").attr(\"transform\", `translate(${m.left},0)`).call(d3.axisLeft(y).ticks(4).tickSize(-W + m.left + m.right)).call(g => g.selectAll(\".tick line\").attr(\"stroke\", \"#e5e7eb\")).call(g => g.selectAll(\".domain\").remove()).call(g => g.selectAll(\"text\").style(\"font-size\", \"11px\").style(\"fill\", \"#64748b\"));\n\n    // ---- X axis ----\n    svg.append(\"g\").attr(\"transform\", `translate(0,${H - m.bottom})`).call(d3.axisBottom(x).tickSize(0)).call(g => g.selectAll(\".domain\").remove()).call(g => g.selectAll(\"text\").style(\"font-size\", \"11px\").style(\"fill\", \"#64748b\"));\n\n    // ---- Backplate (gray highlight behind hovered bar) ----\n    const back = svg.append(\"rect\").attr(\"x\", 0).attr(\"y\", m.top + 2).attr(\"width\", 0).attr(\"height\", H - m.bottom - m.top - 2).attr(\"rx\", 8).attr(\"fill\", \"#e5e7eb\").attr(\"opacity\", 0).lower();\n\n    // ---- Green gradient ----\n    const defs = svg.append(\"defs\");\n    const grad = defs.append(\"linearGradient\").attr(\"id\", \"wf-grad\").attr(\"x1\", \"0%\").attr(\"y1\", \"0%\").attr(\"x2\", \"0%\").attr(\"y2\", \"100%\");\n    grad.append(\"stop\").attr(\"offset\", \"0%\").attr(\"stop-color\", \"#5ec584ff\");\n    grad.append(\"stop\").attr(\"offset\", \"100%\").attr(\"stop-color\", \"#5ec584ff\");\n\n    // ---- Bars ----\n    const bars = svg.selectAll(\"rect.bar\").data(data).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d.weekLabel)).attr(\"y\", d => y(d.value)).attr(\"width\", x.bandwidth()).attr(\"height\", d => y(0) - y(d.value)).attr(\"rx\", 8).attr(\"fill\", \"url(#wf-grad)\");\n\n    // ---- Tooltip (HTML) ----\n    const tooltip = holder.append(\"div\").style(\"position\", \"absolute\").style(\"pointer-events\", \"none\").style(\"background\", \"#fff\").style(\"border-radius\", \"12px\").style(\"box-shadow\", \"0 8px 24px rgba(2,6,23,0.12)\").style(\"padding\", \"8px 10px\").style(\"font-size\", \"12px\").style(\"color\", \"#0f172a\").style(\"opacity\", 0);\n    const tLabel = tooltip.append(\"div\").style(\"font-weight\", 700).style(\"margin-bottom\", \"2px\");\n    const tRow = tooltip.append(\"div\").style(\"display\", \"flex\").style(\"align-items\", \"center\").style(\"gap\", \"8px\");\n    tRow.append(\"span\").text(\"Workouts\").style(\"color\", \"#64748b\");\n    const tVal = tRow.append(\"span\").style(\"font-weight\", 700).style(\"min-width\", \"14px\").style(\"text-align\", \"right\");\n\n    // ---- Interactions ----\n    const showTip = (event, d) => {\n      // backplate\n      back.attr(\"x\", x(d.weekLabel)).attr(\"width\", x.bandwidth()).attr(\"opacity\", 0.35);\n\n      // tooltip\n      const cx = x(d.weekLabel) + x.bandwidth() / 2;\n      const cy = y(d.value) - 10;\n      tLabel.text(d.weekLabel);\n      tVal.text(d.value);\n      const node = tooltip.node();\n      tooltip.style(\"opacity\", 1);\n      const bb = node.getBoundingClientRect();\n\n      // position centered (ภายใน holder)\n      const left = m.left + (cx - bb.width / 2);\n      const top = Math.max(0, cy - bb.height - 8);\n      tooltip.style(\"left\", `${left}px`).style(\"top\", `${top}px`);\n    };\n    const hideTip = () => {\n      back.attr(\"opacity\", 0);\n      tooltip.style(\"opacity\", 0);\n    };\n    bars.on(\"mouseenter\", showTip).on(\"mousemove\", showTip).on(\"mouseleave\", hideTip);\n  }, [data, w]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: wrapRef,\n    style: {\n      width: \"100%\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 10\n  }, this);\n}\n_s(WeeklyFrequencyChart, \"9SQCvi4leSBLHa7Mb28YsjWZNps=\");\n_c = WeeklyFrequencyChart;\nvar _c;\n$RefreshReg$(_c, \"WeeklyFrequencyChart\");","map":{"version":3,"names":["React","useEffect","useRef","useState","CalendarDays","d3","jsxDEV","_jsxDEV","WeeklyFrequencyChart","data","_s","wrapRef","w","setW","current","el","first","clientWidth","ro","ResizeObserver","entries","nw","Math","round","contentRect","width","prev","observe","disconnect","wrap","innerHTML","card","select","append","style","title","iconHolder","iconId","random","toString","slice","attr","text","setTimeout","document","getElementById","firstChild","root","createElement","appendChild","holder","W","max","H","m","top","right","bottom","left","svg","x","scaleBand","domain","map","d","weekLabel","range","padding","y","scaleLinear","value","nice","call","axisLeft","ticks","tickSize","g","selectAll","remove","axisBottom","back","lower","defs","grad","bars","enter","bandwidth","tooltip","tLabel","tRow","tVal","showTip","event","cx","cy","node","bb","getBoundingClientRect","height","hideTip","on","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/BackupFit/frontend/src/components/analytics/WeeklyFrequencyChart.js"],"sourcesContent":["// src/components/analytics/WeeklyFrequencyChart.js\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { CalendarDays } from \"lucide-react\";\r\nimport * as d3 from \"d3\";\r\n\r\n/*\r\n  Props:\r\n    data = [{ weekLabel: 'Week 1', value: 5 }, ...]\r\n*/\r\nexport default function WeeklyFrequencyChart({ data = [] }) {\r\n  const wrapRef = useRef(null);\r\n  const [w, setW] = useState(0);\r\n\r\n  // --- Observe width for responsiveness ---\r\n  useEffect(() => {\r\n    if (!wrapRef.current) return;\r\n    const el = wrapRef.current;\r\n\r\n    // ตั้งค่าเริ่มต้น\r\n    const first = el.clientWidth || 360;\r\n    setW(first);\r\n\r\n    const ro = new ResizeObserver((entries) => {\r\n      const nw = Math.round(entries[0].contentRect.width);\r\n      setW((prev) => (prev !== nw ? nw : prev));\r\n    });\r\n    ro.observe(el);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  // --- Render chart whenever width or data changes ---\r\n  useEffect(() => {\r\n    if (!wrapRef.current || !w) return;\r\n    const wrap = wrapRef.current;\r\n    wrap.innerHTML = \"\";\r\n\r\n    // ---- Card skeleton (title + canvas holder) ----\r\n    const card = d3\r\n      .select(wrap)\r\n      .append(\"div\")\r\n      .style(\"background\", \"#fff\")\r\n      .style(\"border-radius\", \"20px\")\r\n      .style(\"padding\", \"16px\")\r\n      .style(\"box-shadow\", \"0 8px 24px rgba(2,6,23,0.06)\");\r\n\r\n    const title = card\r\n      .append(\"div\")\r\n      .style(\"display\", \"flex\")\r\n      .style(\"align-items\", \"center\")\r\n      .style(\"gap\", \"8px\")\r\n      .style(\"font-weight\", 700)\r\n      .style(\"color\", \"#0f172a\")\r\n      .style(\"margin-bottom\", \"35px\"); // ระยะห่างหัวข้อ ↔ กราฟ\r\n\r\n    // calendar icon\r\n    // Icon container for lucide icon (rendered after effect via React portal-like approach not needed; directly append DOM)\r\n    const iconHolder = title.append(\"span\").style(\"display\", \"flex\").style(\"align-items\", \"center\");\r\n    // We'll mount a placeholder element and let React render icon after by id\r\n    const iconId = `wf-icon-${Math.random().toString(36).slice(2)}`;\r\n    iconHolder.append(\"span\").attr(\"id\", iconId);\r\n    title.append(\"span\").text(\"Weekly Frequency\");\r\n    // After DOM built, inject icon via standard React render\r\n    setTimeout(() => {\r\n      const el = document.getElementById(iconId);\r\n      if (el && !el.firstChild) {\r\n        try { /* dynamic create */\r\n          const root = document.createElement(\"span\");\r\n          el.appendChild(root);\r\n          // Plain inline SVG since small: fallback if lucide not loaded\r\n          root.innerHTML = `<svg width=\"16\" height=\"16\" stroke=\"#0f172a\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" viewBox=\"0 0 24 24\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"4\" rx=\"2\" ry=\"2\"></rect><line x1=\"16\" x2=\"16\" y1=\"2\" y2=\"6\"></line><line x1=\"8\" x2=\"8\" y1=\"2\" y2=\"6\"></line><line x1=\"3\" x2=\"21\" y1=\"10\" y2=\"10\"></line></svg>`;\r\n        } catch {}\r\n      }\r\n    }, 0);\r\n\r\n    // holder จะกว้าง 100% ของ wrapRef\r\n    const holder = card\r\n      .append(\"div\")\r\n      .style(\"position\", \"relative\")\r\n      .style(\"width\", \"100%\");\r\n\r\n    // Responsive width: เผื่อ padding 16px ซ้าย/ขวา ของ card\r\n    const W = Math.max(320, w - 32);\r\n    const H = 170;\r\n    const m = { top: 10, right: 16, bottom: 28, left: 28 };\r\n\r\n    const svg = holder.append(\"svg\").attr(\"width\", W).attr(\"height\", H);\r\n\r\n    // ---- Scales ----\r\n    const x = d3\r\n      .scaleBand()\r\n      .domain(data.map((d) => d.weekLabel))\r\n      .range([m.left, W - m.right])\r\n      .padding(0.3);\r\n\r\n    const y = d3\r\n      .scaleLinear()\r\n      .domain([0, d3.max(data, (d) => d.value) || 1])\r\n      .nice()\r\n      .range([H - m.bottom, m.top]);\r\n\r\n    // ---- Grid (light) ----\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${m.left},0)`)\r\n      .call(d3.axisLeft(y).ticks(4).tickSize(-W + m.left + m.right))\r\n      .call((g) => g.selectAll(\".tick line\").attr(\"stroke\", \"#e5e7eb\"))\r\n      .call((g) => g.selectAll(\".domain\").remove())\r\n      .call((g) =>\r\n        g.selectAll(\"text\").style(\"font-size\", \"11px\").style(\"fill\", \"#64748b\")\r\n      );\r\n\r\n    // ---- X axis ----\r\n    svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(0,${H - m.bottom})`)\r\n      .call(d3.axisBottom(x).tickSize(0))\r\n      .call((g) => g.selectAll(\".domain\").remove())\r\n      .call((g) =>\r\n        g.selectAll(\"text\").style(\"font-size\", \"11px\").style(\"fill\", \"#64748b\")\r\n      );\r\n\r\n    // ---- Backplate (gray highlight behind hovered bar) ----\r\n    const back = svg\r\n      .append(\"rect\")\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", m.top + 2)\r\n      .attr(\"width\", 0)\r\n      .attr(\"height\", H - m.bottom - m.top - 2)\r\n      .attr(\"rx\", 8)\r\n      .attr(\"fill\", \"#e5e7eb\")\r\n      .attr(\"opacity\", 0)\r\n      .lower();\r\n\r\n    // ---- Green gradient ----\r\n    const defs = svg.append(\"defs\");\r\n    const grad = defs\r\n      .append(\"linearGradient\")\r\n      .attr(\"id\", \"wf-grad\")\r\n      .attr(\"x1\", \"0%\")\r\n      .attr(\"y1\", \"0%\")\r\n      .attr(\"x2\", \"0%\")\r\n      .attr(\"y2\", \"100%\");\r\n    grad.append(\"stop\").attr(\"offset\", \"0%\").attr(\"stop-color\", \"#5ec584ff\");\r\n    grad.append(\"stop\").attr(\"offset\", \"100%\").attr(\"stop-color\", \"#5ec584ff\");\r\n\r\n    // ---- Bars ----\r\n    const bars = svg\r\n      .selectAll(\"rect.bar\")\r\n      .data(data)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"class\", \"bar\")\r\n      .attr(\"x\", (d) => x(d.weekLabel))\r\n      .attr(\"y\", (d) => y(d.value))\r\n      .attr(\"width\", x.bandwidth())\r\n      .attr(\"height\", (d) => y(0) - y(d.value))\r\n      .attr(\"rx\", 8)\r\n      .attr(\"fill\", \"url(#wf-grad)\");\r\n\r\n    // ---- Tooltip (HTML) ----\r\n    const tooltip = holder\r\n      .append(\"div\")\r\n      .style(\"position\", \"absolute\")\r\n      .style(\"pointer-events\", \"none\")\r\n      .style(\"background\", \"#fff\")\r\n      .style(\"border-radius\", \"12px\")\r\n      .style(\"box-shadow\", \"0 8px 24px rgba(2,6,23,0.12)\")\r\n      .style(\"padding\", \"8px 10px\")\r\n      .style(\"font-size\", \"12px\")\r\n      .style(\"color\", \"#0f172a\")\r\n      .style(\"opacity\", 0);\r\n\r\n    const tLabel = tooltip\r\n      .append(\"div\")\r\n      .style(\"font-weight\", 700)\r\n      .style(\"margin-bottom\", \"2px\");\r\n    const tRow = tooltip\r\n      .append(\"div\")\r\n      .style(\"display\", \"flex\")\r\n      .style(\"align-items\", \"center\")\r\n      .style(\"gap\", \"8px\");\r\n    tRow.append(\"span\").text(\"Workouts\").style(\"color\", \"#64748b\");\r\n    const tVal = tRow\r\n      .append(\"span\")\r\n      .style(\"font-weight\", 700)\r\n      .style(\"min-width\", \"14px\")\r\n      .style(\"text-align\", \"right\");\r\n\r\n    // ---- Interactions ----\r\n    const showTip = (event, d) => {\r\n      // backplate\r\n      back\r\n        .attr(\"x\", x(d.weekLabel))\r\n        .attr(\"width\", x.bandwidth())\r\n        .attr(\"opacity\", 0.35);\r\n\r\n      // tooltip\r\n      const cx = x(d.weekLabel) + x.bandwidth() / 2;\r\n      const cy = y(d.value) - 10;\r\n\r\n      tLabel.text(d.weekLabel);\r\n      tVal.text(d.value);\r\n\r\n      const node = tooltip.node();\r\n      tooltip.style(\"opacity\", 1);\r\n      const bb = node.getBoundingClientRect();\r\n\r\n      // position centered (ภายใน holder)\r\n      const left = m.left + (cx - bb.width / 2);\r\n      const top = Math.max(0, cy - bb.height - 8);\r\n\r\n      tooltip.style(\"left\", `${left}px`).style(\"top\", `${top}px`);\r\n    };\r\n\r\n    const hideTip = () => {\r\n      back.attr(\"opacity\", 0);\r\n      tooltip.style(\"opacity\", 0);\r\n    };\r\n\r\n    bars.on(\"mouseenter\", showTip).on(\"mousemove\", showTip).on(\"mouseleave\", hideTip);\r\n  }, [data, w]);\r\n\r\n  return <div ref={wrapRef} style={{ width: \"100%\" }} />;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}