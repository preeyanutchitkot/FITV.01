{"ast":null,"code":"var _jsxFileName = \"C:\\\\Fitaddict\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\\\\frontend\\\\src\\\\pages\\\\TraineeAnalyticsPage.js\",\n  _s = $RefreshSig$();\n// src/pages/TraineeAnalyticsPage.js\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport UserActivityCard from \"../components/UserActivityCard\";\nimport VideoCard from \"../components/VideoCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000\";\nfunction SectionTitle({\n  children,\n  right\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      marginTop: 6,\n      marginBottom: 6\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 800,\n        fontSize: '1.2rem',\n        color: '#111827'\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), right]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n}\n_c = SectionTitle;\nfunction AnalyticsHeader({\n  trainee,\n  onBack,\n  avatar\n}) {\n  var _trainee$points;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBack,\n      style: {\n        background: 'transparent',\n        border: 'none',\n        cursor: 'pointer',\n        fontSize: '1rem'\n      },\n      children: \"\\u2190 Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: avatar,\n      alt: \"avatar\",\n      style: {\n        width: 40,\n        height: 40,\n        borderRadius: '50%',\n        objectFit: 'cover',\n        border: '2px solid #e5e7eb'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 700,\n        fontSize: '1.05rem'\n      },\n      children: trainee.name || \"Trainee\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginLeft: 8,\n        background: '#f3e8ff',\n        color: '#a855f7',\n        padding: '2px 10px',\n        borderRadius: 999,\n        fontWeight: 700,\n        fontSize: '0.95rem'\n      },\n      children: [(_trainee$points = trainee.points) !== null && _trainee$points !== void 0 ? _trainee$points : 200, \"pts\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: 'auto',\n        color: '#6b7280',\n        fontSize: 13\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n}\n_c2 = AnalyticsHeader;\nexport default function TraineeAnalyticsPage() {\n  _s();\n  const {\n    traineeId\n  } = useParams();\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  const [trainee, setTrainee] = useState((state === null || state === void 0 ? void 0 : state.trainee) || {\n    id: traineeId\n  });\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const avatar = `${API_BASE}/profile-image/${traineeId}`; // ✅ ใช้ endpoint รูปโปรไฟล์ตามที่ขอ\n\n  // โหลดข้อมูลจริง: โปรไฟล์ + วิดีโอที่ approved ของเทรนเนอร์ผู้ดูแล trainee คนนี้\n  useEffect(() => {\n    let stop = false;\n    async function load() {\n      setLoading(true);\n      try {\n        // 1) ดึงโปรไฟล์ Trainee (คาดว่ามี trainer_id / name / points)\n        // 1) ดึงโปรไฟล์ Trainee สำหรับแสดงชื่อ/แต้ม (รูปใช้ proxy /profile-image/{id})\n        const p = await fetch(`${API_BASE}/trainees/${traineeId}`);\n        const pJson = p.ok ? await p.json() : {};\n        if (stop) return;\n        setTrainee(prev => ({\n          ...prev,\n          ...pJson,\n          id: traineeId\n        }));\n\n        // 2) หา trainer ที่ \"คนล็อกอินอยู่\" (เหมือนหน้า TraineePage) แล้วดึงวิดีโอ\n        const token = localStorage.getItem(\"token\");\n        const me = localStorage.getItem(\"user\");\n        const myEmail = me ? JSON.parse(me).email || \"\" : \"\";\n        const tRes = await fetch(`${API_BASE}/trainers`, {\n          headers: token ? {\n            Authorization: `Bearer ${token}`\n          } : {}\n        });\n        const trainers = tRes.ok ? await tRes.json() : [];\n        const myTrainer = Array.isArray(trainers) ? trainers.find(t => t.email === myEmail) || trainers[0] : null;\n        if (myTrainer !== null && myTrainer !== void 0 && myTrainer.id) {\n          const vRes = await fetch(`${API_BASE}/trainers/${myTrainer.id}/videos`, {\n            headers: token ? {\n              Authorization: `Bearer ${token}`\n            } : {}\n          });\n          let vids = vRes.ok ? await vRes.json() : [];\n          // map รูปเหมือน TraineePage\n          vids = Array.isArray(vids) ? vids.map(v => {\n            let url = v.s3_url || \"\";\n            if (url && !/^https?:\\/\\//i.test(url)) {\n              url = `${API_BASE}/static/${url.replace(/^.*[\\\\\\/]/, \"\")}`;\n            }\n            return {\n              ...v,\n              image: url\n            };\n          }) : [];\n          if (!stop) setVideos(vids);\n        } else {\n          if (!stop) setVideos([]);\n        }\n      } catch {\n        if (!stop) setVideos([]);\n      } finally {\n        if (!stop) setLoading(false);\n      }\n    }\n    load();\n    return () => {\n      stop = true;\n    };\n  }, [traineeId]);\n\n  // จัดกลุ่มตาม level/difficulty (อิงโค้ดหน้า TraineePage)\n  const groups = useMemo(() => {\n    const by = {};\n    videos.forEach(v => {\n      const key = v.difficulty || v.level || \"ไม่ระบุ\";\n      if (!by[key]) by[key] = [];\n      by[key].push(v);\n    });\n    return by;\n  }, [videos]);\n  const levels = Object.keys(groups);\n  const shell = {\n    background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)',\n    minHeight: '100vh',\n    fontFamily: 'Inter, system-ui, sans-serif'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: shell,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 1400,\n        margin: '0 auto',\n        padding: '1.25rem 1.75rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#f3f4f6',\n        borderRadius: 20,\n        boxShadow: '0 2px 24px rgba(0,0,0,0.10)',\n        maxWidth: 1400,\n        margin: '0 auto 2rem',\n        padding: '2.2rem 2.6rem',\n        minHeight: 800,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(AnalyticsHeader, {\n        trainee: trainee,\n        onBack: () => navigate(-1),\n        avatar: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 800,\n          fontSize: '1.35rem',\n          color: '#111827'\n        },\n        children: \"Analytics Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#6b7280',\n          marginTop: -8\n        },\n        children: \"Track performance metrics and gain insights into your data room activity.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '2fr 1fr',\n          gap: 22\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fff',\n            borderRadius: 12,\n            boxShadow: '0 2px 8px -2px #a855f722',\n            padding: '1.25rem',\n            minHeight: 220,\n            display: 'flex',\n            flexDirection: 'column'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700,\n              fontSize: '1.05rem',\n              marginBottom: '0.75rem'\n            },\n            children: \"Document Views (Last 30 Days)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1,\n              border: '2px dashed #e5e7eb',\n              borderRadius: 12,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              color: '#9ca3af',\n              textAlign: 'center'\n            },\n            children: [\"Chart visualization\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 34\n            }, this), \"Showing 0 total views\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UserActivityCard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SectionTitle, {\n        children: [\"Videolist (\", videos.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#64748b'\n        },\n        children: \"Loading\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this) : levels.map(level => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1.2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '0.5rem',\n            color: '#64748b',\n            fontWeight: 600\n          },\n          children: [\"Level: \", level, \" (\", groups[level].length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit,minmax(320px,1fr))',\n            gap: 22\n          },\n          children: groups[level].map(v => /*#__PURE__*/_jsxDEV(VideoCard, {\n            video: v,\n            readOnly: true // ถ้าต้องการซ่อนเมนูลบบนการ์ด\n            ,\n            onPlay: () => {}\n          }, v.id || v.s3_url || v.title, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 15\n        }, this)]\n      }, level, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this)), !loading && videos.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#94a3b8'\n        },\n        children: \"No videos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n_s(TraineeAnalyticsPage, \"ueZRd4qQUY0zZPaIdLYjnUN1DP0=\", false, function () {\n  return [useParams, useLocation, useNavigate];\n});\n_c3 = TraineeAnalyticsPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SectionTitle\");\n$RefreshReg$(_c2, \"AnalyticsHeader\");\n$RefreshReg$(_c3, \"TraineeAnalyticsPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useLocation","useNavigate","useParams","UserActivityCard","VideoCard","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","SectionTitle","children","right","style","display","alignItems","justifyContent","marginTop","marginBottom","fontWeight","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","AnalyticsHeader","trainee","onBack","avatar","_trainee$points","gap","onClick","background","border","cursor","src","alt","width","height","borderRadius","objectFit","name","marginLeft","padding","points","_c2","TraineeAnalyticsPage","_s","traineeId","state","navigate","setTrainee","id","videos","setVideos","loading","setLoading","stop","load","p","fetch","pJson","ok","json","prev","token","localStorage","getItem","me","myEmail","JSON","parse","email","tRes","headers","Authorization","trainers","myTrainer","Array","isArray","find","t","vRes","vids","map","v","url","s3_url","test","replace","image","groups","by","forEach","key","difficulty","level","push","levels","Object","keys","shell","minHeight","fontFamily","maxWidth","margin","boxShadow","flexDirection","gridTemplateColumns","flex","textAlign","length","video","readOnly","onPlay","title","_c3","$RefreshReg$"],"sources":["C:/Fitaddictล่าสุด/frontend/src/pages/TraineeAnalyticsPage.js"],"sourcesContent":["// src/pages/TraineeAnalyticsPage.js\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport UserActivityCard from \"../components/UserActivityCard\";\r\nimport VideoCard from \"../components/VideoCard\";\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000\";\r\n\r\nfunction SectionTitle({ children, right }) {\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginTop: 6, marginBottom: 6 }}>\r\n      <div style={{ fontWeight: 800, fontSize: '1.2rem', color: '#111827' }}>{children}</div>\r\n      {right}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AnalyticsHeader({ trainee, onBack, avatar }) {\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n      <button onClick={onBack} style={{ background: 'transparent', border: 'none', cursor: 'pointer', fontSize: '1rem' }}>← Back</button>\r\n      <img src={avatar} alt=\"avatar\" style={{ width: 40, height: 40, borderRadius: '50%', objectFit: 'cover', border: '2px solid #e5e7eb' }} />\r\n      <div style={{ fontWeight: 700, fontSize: '1.05rem' }}>{trainee.name || \"Trainee\"}</div>\r\n      <span style={{ marginLeft: 8, background: '#f3e8ff', color: '#a855f7', padding: '2px 10px', borderRadius: 999, fontWeight: 700, fontSize: '0.95rem' }}>\r\n        {(trainee.points ?? 200)}pts\r\n      </span>\r\n      <div style={{ marginLeft: 'auto', color: '#6b7280', fontSize: 13 }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function TraineeAnalyticsPage() {\r\n  const { traineeId } = useParams();\r\n  const { state } = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const [trainee, setTrainee] = useState(state?.trainee || { id: traineeId });\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const avatar = `${API_BASE}/profile-image/${traineeId}`; // ✅ ใช้ endpoint รูปโปรไฟล์ตามที่ขอ\r\n\r\n  // โหลดข้อมูลจริง: โปรไฟล์ + วิดีโอที่ approved ของเทรนเนอร์ผู้ดูแล trainee คนนี้\r\n  useEffect(() => {\r\n    let stop = false;\r\n\r\n    async function load() {\r\n      setLoading(true);\r\n      try {\r\n        // 1) ดึงโปรไฟล์ Trainee (คาดว่ามี trainer_id / name / points)\r\n        // 1) ดึงโปรไฟล์ Trainee สำหรับแสดงชื่อ/แต้ม (รูปใช้ proxy /profile-image/{id})\r\n        const p = await fetch(`${API_BASE}/trainees/${traineeId}`);\r\n        const pJson = p.ok ? await p.json() : {};\r\n        if (stop) return;\r\n        setTrainee(prev => ({ ...prev, ...pJson, id: traineeId }));\r\n\r\n        // 2) หา trainer ที่ \"คนล็อกอินอยู่\" (เหมือนหน้า TraineePage) แล้วดึงวิดีโอ\r\n        const token = localStorage.getItem(\"token\");\r\n        const me = localStorage.getItem(\"user\");\r\n        const myEmail = me ? (JSON.parse(me).email || \"\") : \"\";\r\n        const tRes = await fetch(`${API_BASE}/trainers`, {\r\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n        });\r\n        const trainers = tRes.ok ? await tRes.json() : [];\r\n        const myTrainer = Array.isArray(trainers)\r\n          ? (trainers.find(t => t.email === myEmail) || trainers[0])\r\n          : null;\r\n        if (myTrainer?.id) {\r\n          const vRes = await fetch(`${API_BASE}/trainers/${myTrainer.id}/videos`, {\r\n            headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n          });\r\n          let vids = vRes.ok ? await vRes.json() : [];\r\n          // map รูปเหมือน TraineePage\r\n          vids = Array.isArray(vids) ? vids.map(v => {\r\n            let url = v.s3_url || \"\";\r\n            if (url && !/^https?:\\/\\//i.test(url)) {\r\n              url = `${API_BASE}/static/${url.replace(/^.*[\\\\\\/]/, \"\")}`;\r\n            }\r\n            return { ...v, image: url };\r\n          }) : [];\r\n          if (!stop) setVideos(vids);\r\n        } else {\r\n          if (!stop) setVideos([]);\r\n        }\r\n      } catch {\r\n        if (!stop) setVideos([]);\r\n      } finally {\r\n        if (!stop) setLoading(false);\r\n      }\r\n    }\r\n\r\n    load();\r\n    return () => { stop = true; };\r\n  }, [traineeId]);\r\n\r\n  // จัดกลุ่มตาม level/difficulty (อิงโค้ดหน้า TraineePage)\r\n  const groups = useMemo(() => {\r\n    const by = {};\r\n    videos.forEach(v => {\r\n      const key = v.difficulty || v.level || \"ไม่ระบุ\";\r\n      if (!by[key]) by[key] = [];\r\n      by[key].push(v);\r\n    });\r\n    return by;\r\n  }, [videos]);\r\n\r\n  const levels = Object.keys(groups);\r\n\r\n  const shell = {\r\n    background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)',\r\n    minHeight: '100vh',\r\n    fontFamily: 'Inter, system-ui, sans-serif',\r\n  };\r\n\r\n  return (\r\n    <div style={shell}>\r\n      <div style={{ maxWidth: 1400, margin: '0 auto', padding: '1.25rem 1.75rem' }} />\r\n\r\n      <div style={{ background: '#f3f4f6', borderRadius: 20, boxShadow: '0 2px 24px rgba(0,0,0,0.10)', maxWidth: 1400, margin: '0 auto 2rem', padding: '2.2rem 2.6rem', minHeight: 800, display: 'flex', flexDirection: 'column', gap: 24 }}>\r\n        <AnalyticsHeader trainee={trainee} onBack={() => navigate(-1)} avatar={avatar} />\r\n\r\n        <div style={{ fontWeight: 800, fontSize: '1.35rem', color: '#111827' }}>Analytics Dashboard</div>\r\n        <div style={{ color: '#6b7280', marginTop: -8 }}>Track performance metrics and gain insights into your data room activity.</div>\r\n\r\n        <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: 22 }}>\r\n          <div style={{ background: '#fff', borderRadius: 12, boxShadow: '0 2px 8px -2px #a855f722', padding: '1.25rem', minHeight: 220, display: 'flex', flexDirection: 'column' }}>\r\n            <div style={{ fontWeight: 700, fontSize: '1.05rem', marginBottom: '0.75rem' }}>Document Views (Last 30 Days)</div>\r\n            <div style={{ flex: 1, border: '2px dashed #e5e7eb', borderRadius: 12, display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#9ca3af', textAlign: 'center' }}>\r\n              Chart visualization<br />Showing 0 total views\r\n            </div>\r\n          </div>\r\n          <UserActivityCard />\r\n        </div>\r\n\r\n        {/* === วิดีโอที่ผ่าน approve ของเทรนเนอร์ของ trainee คนนี้ (จัดกลุ่มตาม level/difficulty) === */}\r\n        <SectionTitle>Videolist ({videos.length})</SectionTitle>\r\n        {loading ? (\r\n          <div style={{ color: '#64748b' }}>Loading…</div>\r\n        ) : (\r\n          levels.map(level => (\r\n            <div key={level} style={{ marginBottom: '1.2rem' }}>\r\n              <div style={{ marginBottom: '0.5rem', color: '#64748b', fontWeight: 600 }}>\r\n                Level: {level} ({groups[level].length})\r\n              </div>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit,minmax(320px,1fr))', gap: 22 }}>\r\n                {groups[level].map(v => (\r\n                  <VideoCard\r\n                    key={v.id || v.s3_url || v.title}\r\n                    video={v}\r\n                    readOnly   // ถ้าต้องการซ่อนเมนูลบบนการ์ด\r\n                    onPlay={() => { }}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n        {!loading && videos.length === 0 && <div style={{ color: '#94a3b8' }}>No videos</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}