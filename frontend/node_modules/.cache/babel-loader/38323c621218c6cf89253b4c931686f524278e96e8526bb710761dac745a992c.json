{"ast":null,"code":"var _jsxFileName = \"C:\\\\Fit\\\\frontend\\\\src\\\\components\\\\SimpleKeypoints.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SimpleKeypoints = ({\n  videoRef,\n  isPlaying,\n  onKeypointsDetected\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [isReady, setIsReady] = useState(false);\n\n  // เฟคโครงกระดูกสำหรับทดสอบ\n  const drawTestSkeleton = () => {\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    if (!canvas || !video) return;\n    const ctx = canvas.getContext('2d');\n    const rect = video.getBoundingClientRect();\n\n    // ปรับขนาด canvas ให้ตรงกับวิดีโอ\n    canvas.width = rect.width;\n    canvas.height = rect.height;\n\n    // ล้างหน้าจอ\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // วาดโครงกระดูกทดสอบ (จุดกึ่งกลางร่างกาย)\n    const centerX = canvas.width / 2;\n    const centerY = canvas.height / 2;\n\n    // วาดจุดศีรษะ\n    ctx.beginPath();\n    ctx.arc(centerX, centerY - 80, 5, 0, 2 * Math.PI);\n    ctx.fillStyle = '#FF6B6B';\n    ctx.fill();\n\n    // วาดจุดไหล่\n    ctx.beginPath();\n    ctx.arc(centerX - 30, centerY - 40, 4, 0, 2 * Math.PI);\n    ctx.fillStyle = '#4ECDC4';\n    ctx.fill();\n    ctx.beginPath();\n    ctx.arc(centerX + 30, centerY - 40, 4, 0, 2 * Math.PI);\n    ctx.fillStyle = '#4ECDC4';\n    ctx.fill();\n\n    // วาดเส้นเชื่อมไหล่\n    ctx.beginPath();\n    ctx.moveTo(centerX - 30, centerY - 40);\n    ctx.lineTo(centerX + 30, centerY - 40);\n    ctx.strokeStyle = '#00FF00';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n\n    // วาดจุดศอก\n    ctx.beginPath();\n    ctx.arc(centerX - 50, centerY, 4, 0, 2 * Math.PI);\n    ctx.fillStyle = '#45B7D1';\n    ctx.fill();\n    ctx.beginPath();\n    ctx.arc(centerX + 50, centerY, 4, 0, 2 * Math.PI);\n    ctx.fillStyle = '#45B7D1';\n    ctx.fill();\n\n    // วาดเส้นแขน\n    ctx.beginPath();\n    ctx.moveTo(centerX - 30, centerY - 40);\n    ctx.lineTo(centerX - 50, centerY);\n    ctx.strokeStyle = '#00FF00';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.moveTo(centerX + 30, centerY - 40);\n    ctx.lineTo(centerX + 50, centerY);\n    ctx.strokeStyle = '#00FF00';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    console.log('✅ Test skeleton drawn');\n  };\n  useEffect(() => {\n    console.log('SimpleKeypoints mounted');\n    setIsReady(true);\n  }, []);\n  useEffect(() => {\n    if (!isReady || !(videoRef !== null && videoRef !== void 0 && videoRef.current) || !canvasRef.current) return;\n    console.log('Setting up animation loop...');\n    const animate = () => {\n      if (isPlaying) {\n        drawTestSkeleton();\n      }\n      requestAnimationFrame(animate);\n    };\n    animate();\n  }, [isReady, isPlaying]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      pointerEvents: 'none',\n      zIndex: 10,\n      border: '1px solid red' // เพื่อดูว่า canvas อยู่ที่ไหน\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(SimpleKeypoints, \"BaoWBC6DX6Bv4zoHkOjdSRAnm90=\");\n_c = SimpleKeypoints;\nexport default SimpleKeypoints;\nvar _c;\n$RefreshReg$(_c, \"SimpleKeypoints\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","SimpleKeypoints","videoRef","isPlaying","onKeypointsDetected","_s","canvasRef","isReady","setIsReady","drawTestSkeleton","canvas","current","video","ctx","getContext","rect","getBoundingClientRect","width","height","clearRect","centerX","centerY","beginPath","arc","Math","PI","fillStyle","fill","moveTo","lineTo","strokeStyle","lineWidth","stroke","console","log","animate","requestAnimationFrame","ref","style","position","top","left","pointerEvents","zIndex","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Fit/frontend/src/components/SimpleKeypoints.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nconst SimpleKeypoints = ({ videoRef, isPlaying, onKeypointsDetected }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isReady, setIsReady] = useState(false);\r\n\r\n  // เฟคโครงกระดูกสำหรับทดสอบ\r\n  const drawTestSkeleton = () => {\r\n    const canvas = canvasRef.current;\r\n    const video = videoRef.current;\r\n    if (!canvas || !video) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    const rect = video.getBoundingClientRect();\r\n    \r\n    // ปรับขนาด canvas ให้ตรงกับวิดีโอ\r\n    canvas.width = rect.width;\r\n    canvas.height = rect.height;\r\n    \r\n    // ล้างหน้าจอ\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    // วาดโครงกระดูกทดสอบ (จุดกึ่งกลางร่างกาย)\r\n    const centerX = canvas.width / 2;\r\n    const centerY = canvas.height / 2;\r\n    \r\n    // วาดจุดศีรษะ\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY - 80, 5, 0, 2 * Math.PI);\r\n    ctx.fillStyle = '#FF6B6B';\r\n    ctx.fill();\r\n    \r\n    // วาดจุดไหล่\r\n    ctx.beginPath();\r\n    ctx.arc(centerX - 30, centerY - 40, 4, 0, 2 * Math.PI);\r\n    ctx.fillStyle = '#4ECDC4';\r\n    ctx.fill();\r\n    \r\n    ctx.beginPath();\r\n    ctx.arc(centerX + 30, centerY - 40, 4, 0, 2 * Math.PI);\r\n    ctx.fillStyle = '#4ECDC4';\r\n    ctx.fill();\r\n    \r\n    // วาดเส้นเชื่อมไหล่\r\n    ctx.beginPath();\r\n    ctx.moveTo(centerX - 30, centerY - 40);\r\n    ctx.lineTo(centerX + 30, centerY - 40);\r\n    ctx.strokeStyle = '#00FF00';\r\n    ctx.lineWidth = 2;\r\n    ctx.stroke();\r\n    \r\n    // วาดจุดศอก\r\n    ctx.beginPath();\r\n    ctx.arc(centerX - 50, centerY, 4, 0, 2 * Math.PI);\r\n    ctx.fillStyle = '#45B7D1';\r\n    ctx.fill();\r\n    \r\n    ctx.beginPath();\r\n    ctx.arc(centerX + 50, centerY, 4, 0, 2 * Math.PI);\r\n    ctx.fillStyle = '#45B7D1';\r\n    ctx.fill();\r\n    \r\n    // วาดเส้นแขน\r\n    ctx.beginPath();\r\n    ctx.moveTo(centerX - 30, centerY - 40);\r\n    ctx.lineTo(centerX - 50, centerY);\r\n    ctx.strokeStyle = '#00FF00';\r\n    ctx.lineWidth = 2;\r\n    ctx.stroke();\r\n    \r\n    ctx.beginPath();\r\n    ctx.moveTo(centerX + 30, centerY - 40);\r\n    ctx.lineTo(centerX + 50, centerY);\r\n    ctx.strokeStyle = '#00FF00';\r\n    ctx.lineWidth = 2;\r\n    ctx.stroke();\r\n    \r\n    console.log('✅ Test skeleton drawn');\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('SimpleKeypoints mounted');\r\n    setIsReady(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isReady || !videoRef?.current || !canvasRef.current) return;\r\n    \r\n    console.log('Setting up animation loop...');\r\n    \r\n    const animate = () => {\r\n      if (isPlaying) {\r\n        drawTestSkeleton();\r\n      }\r\n      requestAnimationFrame(animate);\r\n    };\r\n    \r\n    animate();\r\n  }, [isReady, isPlaying]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        pointerEvents: 'none',\r\n        zIndex: 10,\r\n        border: '1px solid red' // เพื่อดูว่า canvas อยู่ที่ไหน\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SimpleKeypoints;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}